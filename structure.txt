┌─────────────────────────────────────────────────────────────────────────────┐
│                        Contract-Management-RAG                              │
│                                                                             │
│  ┌───────────────┐    ┌───────────────┐    ┌───────────────┐    ┌─────────┐ │
│  │               │    │               │    │               │    │         │ │
│  │ 1. Traitement │    │ 2. Indexation │    │ 3. Recherche  │    │ 4. LLM  │ │
│  │ des documents │───▶│ vectorielle   │───▶│ intelligente  │───▶│ Chat    │ │
│  │               │    │               │    │               │    │         │ │
│  └───────────────┘    └───────────────┘    └───────────────┘    └─────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────────┐
│                      Traitement des documents                               │
│                                                                             │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐   ┌──────────────┐  │
│  │              │   │              │   │              │   │              │  │
│  │ PDF Extractor│──▶│Text Chunker  │──▶│ Vectorisation│──▶│  ChromaDB    │  │
│  │Doc Reader    │   │Contract      │   │    des       │   │   Storage    │  │
│  │              │   │Splitter      │   │   chunks     │   │              │  │
│  └──────────────┘   └──────────────┘   └──────────────┘   └──────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────────┐
│                       Modes d'interaction                                   │
│                                                                             │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐   ┌──────────────┐  │
│  │              │   │              │   │              │   │              │  │
│  │ Mode Chat    │   │  Mode Chat   │   │  Mode Chat   │   │   Mode       │  │
│  │  standard    │   │  avancé      │   │ alternatives │   │  recherche   │  │
│  │              │   │ (décomposé)  │   │              │   │              │  │
│  └──────────────┘   └──────────────┘   └──────────────┘   └──────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────────┐
│                         Matrix RAG Framework                                │
│                                                                             │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐                     │
│  │              │   │              │   │              │                     │
│  │ Matrice G    │   │ Matrice Doc  │   │ Détection    │                     │
│  │(thésaurus)   │──▶│(documents)   │──▶│   idG        │                     │
│  │              │   │              │   │              │                     │
│  └──────────────┘   └──────────────┘   └──────────┬───┘                     │
│                                                   │                         │
│                                                   ▼                         │
│                        ┌──────────────────────────────────┐                 │
│                        │                                  │                 │
│                        │      Préfiltrage par idG         │                 │
│                        │                                  │                 │
│                        └──────────────┬───────────────────┘                 │
│                                       │                                     │
│                                       ▼                                     │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐                     │
│  │              │   │              │   │              │                     │
│  │ Génération   │◀──│  Reranking   │◀──│ Recherche    │                     │
│  │  réponse     │   │              │   │ vectorielle  │                     │
│  │              │   │              │   │              │                     │
│  └──────────────┘   └──────────────┘   └──────────────┘                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────────┐
│                         Flux de données complet                             │
│                                                                             │
│  ┌──────────┐     ┌──────────────┐     ┌──────────────┐     ┌─────────────┐ │
│  │          │     │              │     │              │     │             │ │
│  │ Documents│────▶│ Extraction   │────▶│ Chunking &   │────▶│ Classification│ │
│  │  (PDF)   │     │  texte       │     │ segmentation │     │   par idG   │ │
│  │          │     │              │     │              │     │             │ │
│  └──────────┘     └──────────────┘     └──────────────┘     └──────┬──────┘ │
│                                                                    │        │
│                                                                    ▼        │
│  ┌──────────┐     ┌──────────────┐     ┌──────────────┐     ┌─────────────┐ │
│  │          │     │              │     │              │     │             │ │
│  │ Réponse  │◀────│ Génération   │◀────│ Sélection    │◀────│ Vectorisation│ │
│  │  finale  │     │   LLM        │     │  contexte    │     │  et indexage│ │
│  │          │     │              │     │              │     │             │ │
│  └──────────┘     └──────────────┘     └──────────────┘     └─────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


┌─────────────────────────────────────────────────────────────────────────────┐
│                        Contract-Management-RAG                              │
│                                                                             │
│  ┌───────────────┐    ┌───────────────┐    ┌───────────────┐    ┌─────────┐ │
│  │               │    │               │    │               │    │         │ │
│  │ 1. Traitement │    │ 2. Indexation │    │ 3. Recherche  │    │ 4. LLM  │ │
│  │ des documents │───▶│ vectorielle   │───▶│ intelligente  │───▶│ Chat    │ │
│  │               │    │               │    │               │    │         │ │
│  └───────────────┘    └───────────────┘    └───────────────┘    └─────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────────┐
│                      Traitement des documents                               │
│                                                                             │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐   ┌──────────────┐  │
│  │              │   │              │   │              │   │              │  │
│  │ PDF Extractor│──▶│Text Chunker  │──▶│ Vectorisation│──▶│  ChromaDB    │  │
│  │Doc Reader    │   │Contract      │   │    des       │   │   Storage    │  │
│  │              │   │Splitter      │   │   chunks     │   │              │  │
│  └──────────────┘   └──────────────┘   └──────────────┘   └──────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────────┐
│                       Modes d'interaction                                   │
│                                                                             │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐   ┌──────────────┐  │
│  │              │   │              │   │              │   │              │  │
│  │ Mode Chat    │   │  Mode Chat   │   │  Mode Chat   │   │   Mode       │  │
│  │  standard    │   │  avancé      │   │ alternatives │   │  recherche   │  │
│  │              │   │ (décomposé)  │   │              │   │              │  │
│  └──────────────┘   └──────────────┘   └──────────────┘   └──────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────────┐
│                      Processus de recherche et réponse                      │
│                                                                             │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐   ┌──────────────┐  │
│  │              │   │              │   │              │   │              │  │
│  │  Requête     │──▶│  Recherche   │──▶│  Reranking   │──▶│  Sélection   │  │
│  │ utilisateur  │   │  hybride     │   │ des résultats│   │  contexte    │  │
│  │              │   │              │   │              │   │              │  │
│  └──────────────┘   └──────────────┘   └──────────────┘   └──────┬───────┘  │
│                                                                  │          │
│                      ┌──────────────────────────────────────────┘          │
│                      │                                                      │
│                      ▼                                                      │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐                     │
│  │              │   │              │   │              │                     │
│  │  Affichage   │◀──│  Génération  │◀──│ Préparation  │                     │
│  │  résultat    │   │  réponse LLM │   │  prompt LLM  │                     │
│  │              │   │              │   │              │                     │
│  └──────────────┘   └──────────────┘   └──────────────┘                     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────────────────────┐
│                         Flux de données complet                             │
│                                                                             │
│  ┌──────────┐     ┌──────────────┐     ┌──────────────┐     ┌─────────────┐ │
│  │          │     │              │     │              │     │             │ │
│  │ Documents│────▶│ Extraction   │────▶│ Chunking &   │────▶│ Vectorisation│ │
│  │  (PDF)   │     │  texte       │     │ segmentation │     │  des chunks │ │
│  │          │     │              │     │              │     │             │ │
│  └──────────┘     └──────────────┘     └──────────────┘     └──────┬──────┘ │
│                                                                    │        │
│                                                                    ▼        │
│  ┌──────────┐     ┌──────────────┐     ┌──────────────┐     ┌─────────────┐ │
│  │          │     │              │     │              │     │             │ │
│  │ Réponse  │◀────│ Génération   │◀────│ Sélection    │◀────│ Recherche   │ │
│  │  finale  │     │   LLM        │     │  contexte    │     │  pertinente │ │
│  │          │     │              │     │              │     │             │ │
│  └──────────┘     └──────────────┘     └──────────────┘     └─────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘